<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReichTube</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #0f0f0f;
            color: #f1f1f1;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background-color: #0f0f0f;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            z-index: 1000;
            border-bottom: 1px solid #272727;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .menu-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 50%;
        }

        .menu-icon:hover {
            background-color: #272727;
        }

        .menu-icon svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 18px 14px 18px 16px;
        }

        .logo svg {
            width: 28px;
            height: 20px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            color: #f1f1f1;
            letter-spacing: -0.5px;
            font-family: 'Roboto', sans-serif;
        }

        .header-center {
            flex: 1;
            max-width: 728px;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 40px;
        }

        .search-container {
            flex: 1;
            display: flex;
            height: 40px;
        }

        .search-input {
            flex: 1;
            background-color: #121212;
            border: 1px solid #303030;
            border-radius: 40px 0 0 40px;
            padding: 0 16px;
            color: #f1f1f1;
            font-size: 16px;
            outline: none;
        }

        .search-input:focus {
            border-color: #1c62b9;
        }

        .search-input::placeholder {
            color: #888;
        }

        .search-btn {
            background-color: #222;
            border: 1px solid #303030;
            border-radius: 0 40px 40px 0;
            padding: 0 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn:hover {
            background-color: #272727;
        }

        .search-btn svg {
            width: 16px;
            height: 16px;
            fill: #f1f1f1;
        }

        .search-button {
            width: 64px;
            background-color: #222222;
            border: 1px solid #303030;
            border-left: none;
            border-radius: 0 40px 40px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-button:hover {
            background-color: #2f2f2f;
        }

        .search-button svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
        }

        .voice-search {
            width: 40px;
            height: 40px;
            background-color: #181818;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .voice-search:hover {
            background-color: #272727;
        }

        .voice-search svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .icon-button {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 50%;
        }

        .icon-button:hover {
            background-color: #272727;
        }

        .icon-button svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: 500;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 56px;
            width: 240px;
            height: calc(100vh - 56px);
            background-color: #0f0f0f;
            overflow-y: auto;
            padding: 12px 0;
            z-index: 999;
            transform: translateX(0);
            transition: transform 0.3s;
        }

        .sidebar-item {
            padding: 10px 12px;
            cursor: pointer;
            color: #f1f1f1;
            display: flex;
            align-items: center;
            gap: 24px;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background-color: #717171;
            border-radius: 4px;
        }

        .sidebar-section {
            border-bottom: 1px solid #272727;
            padding: 12px 0;
        }

        .sidebar-item:hover {
            background-color: #272727;
        }

        .sidebar-item.active {
            background-color: #272727;
            font-weight: 500;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 10px 12px;
            cursor: pointer;
            color: #f1f1f1;
            text-decoration: none;
            font-size: 14px;
            font-weight: 400;
        }

        .sidebar-item svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
            flex-shrink: 0;
        }

        .sidebar-title {
            padding: 8px 12px;
            font-size: 14px;
            font-weight: 500;
            color: #f1f1f1;
        }

        .subscription-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            color: #f1f1f1;
        }

        .subscription-item:hover {
            background-color: #272727;
        }

        .subscription-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        /* Main Content */
        .main-container {
            display: flex;
            margin-top: 56px;
        }

        .main-content {
            flex: 1;
            margin-left: 240px;
            padding: 24px;
            display: none;
        }

        .main-content.active {
            display: block;
        }

        .chips-container {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            margin-bottom: 24px;
            padding-bottom: 12px;
        }

        .chips-container::-webkit-scrollbar {
            height: 8px;
        }

        .chips-container::-webkit-scrollbar-thumb {
            background-color: #404040;
            border-radius: 4px;
        }

        .chip {
            padding: 8px 16px;
            background-color: #272727;
            border: none;
            border-radius: 20px;
            color: #f1f1f1;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            transition: background-color 0.2s;
        }

        .chip:hover {
            background-color: #3f3f3f;
        }

        .chip.active {
            background-color: #f1f1f1;
            color: #0f0f0f;
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }

        .video-card {
            cursor: pointer;
            transition: transform 0.2s;
        }

        .video-card:hover {
            transform: scale(1.02);
        }

        .video-thumbnail {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background-color: #212121;
            border-radius: 12px;
            overflow: hidden;
        }

        .thumbnail-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #f1f1f1;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .video-info {
            display: flex;
            gap: 12px;
            padding: 12px 0;
        }

        .channel-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .video-details {
            flex: 1;
            min-width: 0;
        }

        .video-title {
            font-size: 14px;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 4px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-metadata {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .channel-name {
            font-size: 12px;
            color: #aaa;
        }

        .video-stats {
            font-size: 12px;
            color: #aaa;
        }

        /* Video Page Styles */
        .video-page {
            display: none;
            margin-left: 240px;
            margin-top: 56px;
            padding: 24px;
        }

        .video-page.active {
            display: block;
        }

        .video-player-container {
            max-width: 1280px;
            margin: 0 auto;
        }

        .video-player {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
        }

        .video-player-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-player-content video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #000;
        }

        .play-button {
            width: 80px;
            height: 80px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
            position: absolute;
            z-index: 10;
        }

        .play-button:hover {
            transform: scale(1.1);
        }

        .play-button svg {
            width: 40px;
            height: 40px;
            fill: #000;
            margin-left: 4px;
        }

        .video-primary-info {
            margin-top: 12px;
        }

        .video-page-title {
            font-size: 20px;
            font-weight: 500;
            line-height: 1.4;
            color: #f1f1f1;
            margin-bottom: 8px;
        }

        .video-page-stats {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
        }

        .views-date {
            font-size: 14px;
            color: #aaa;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background-color: #272727;
            border: none;
            border-radius: 24px;
            color: #f1f1f1;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .action-button:hover {
            background-color: #3f3f3f;
        }

        .action-button svg {
            width: 24px;
            height: 24px;
            fill: #f1f1f1;
        }

        .channel-info {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 16px;
            padding: 16px 0;
            border-bottom: 1px solid #272727;
        }

        .channel-info-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .channel-avatar-large {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .channel-details {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .channel-name-large {
            font-size: 16px;
            font-weight: 500;
            color: #f1f1f1;
        }

        .subscriber-count {
            font-size: 12px;
            color: #aaa;
        }

        .subscribe-button {
            padding: 10px 16px;
            background-color: #f1f1f1;
            color: #0f0f0f;
            border: none;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .subscribe-button:hover {
            background-color: #d9d9d9;
        }

        .video-description {
            margin-top: 16px;
            padding: 12px;
            background-color: #272727;
            border-radius: 12px;
        }

        .description-text {
            font-size: 14px;
            line-height: 1.6;
            color: #f1f1f1;
            white-space: pre-wrap;
        }

        .comments-section {
            margin-top: 24px;
        }


        @media (max-width: 1024px) {
            .sidebar {
                width: 72px;
            }

            .main-content,
            .video-page {
                margin-left: 72px;
            }

            .sidebar-item {
                padding: 10px;
                justify-content: center;
            }

            .video-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 640px) {
            .sidebar {
                transform: translateX(-100%);
                width: 240px;
            }

            .main-content,
            .video-page {
                margin-left: 0;
            }

            .video-grid {
                grid-template-columns: 1fr;
            }

            .header-center {
                margin: 0 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="menu-icon" onclick="toggleSidebar()">
                <svg viewBox="0 0 24 24">
                    <path d="M21,6H3V5h18V6z M21,11H3v1h18V11z M21,17H3v1h18V17z"/>
                </svg>
            </div>
            <div class="logo" onclick="showHome()">
                <svg viewBox="0 0 28.57 20" preserveAspectRatio="xMidYMid meet">
                    <path d="M27.9727 3.12324C27.6435 1.89323 26.6768 0.926623 25.4468 0.597366C23.2197 2.24288e-07 14.285 0 14.285 0C14.285 0 5.35042 2.24288e-07 3.12323 0.597366C1.89323 0.926623 0.926623 1.89323 0.597366 3.12324C2.24288e-07 5.35042 0 10 0 10C0 10 2.24288e-07 14.6496 0.597366 16.8768C0.926623 18.1068 1.89323 19.0734 3.12323 19.4026C5.35042 20 14.285 20 14.285 20C14.285 20 23.2197 20 25.4468 19.4026C26.6768 19.0734 27.6435 18.1068 27.9727 16.8768C28.5701 14.6496 28.5701 10 28.5701 10C28.5701 10 28.5677 5.35042 27.9727 3.12324Z" fill="#FF0000"/>
                    <path d="M11.4253 14.2854L18.8477 10.0004L11.4253 5.71533V14.2854Z" fill="white"/>
                </svg>
                <span class="logo-text">ReichTube</span>
            </div>
        </div>

        <div class="header-center">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search" onkeydown="if(event.key==='Enter') performSearch()">
                <button class="search-button" onclick="performSearch()">
                    <svg viewBox="0 0 24 24">
                        <path d="M20.87,20.17l-5.59-5.59C16.35,13.35,17,11.75,17,10c0-3.87-3.13-7-7-7s-7,3.13-7,7s3.13,7,7,7c1.75,0,3.35-0.65,4.58-1.71 l5.59,5.59L20.87,20.17z M10,16c-3.31,0-6-2.69-6-6s2.69-6,6-6s6,2.69,6,6S13.31,16,10,16z"/>
                    </svg>
                </button>
            </div>
            <div class="voice-search">
                <svg viewBox="0 0 24 24">
                    <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                    <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                </svg>
            </div>
        </div>

        <div class="header-right">
            <div class="icon-button">
                <svg viewBox="0 0 24 24">
                    <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                </svg>
            </div>
            <div class="icon-button">
                <svg viewBox="0 0 24 24">
                    <path d="M10,20h4c0,1.1-0.9,2-2,2S10,21.1,10,20z M20,17.35V19H4v-1.65l2-1.88v-5.15c0-2.92,1.56-5.22,4-5.98V3.96 c0-1.42,1.49-2.5,2.99-1.76C13.64,2.52,14,3.23,14,3.96l0,0.39c2.44,0.75,4,3.06,4,5.98v5.15L20,17.35z M19,17.77l-2-1.88v-5.47 c0-2.47-1.19-4.36-3.13-5.1c-1.26-0.53-2.64-0.5-3.84,0.03C8.15,6.11,7,7.99,7,10.42v5.47l-2,1.88V18h14V17.77z"/>
                </svg>
            </div>
            <div class="user-avatar">U</div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <a href="#" class="sidebar-item active" onclick="showHome(); return false;">
                <svg viewBox="0 0 24 24"><path d="M4 21V10.08l8-6.96 8 6.96V21h-6v-6h-4v6H4z"/></svg>
                <span>Home</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M9.8,9.8l-3.83,8.23l8.23-3.83l3.83-8.23L9.8,9.8z M12,11c-0.55,0-1-0.45-1-1s0.45-1,1-1s1,0.45,1,1S12.55,11,12,11z"/><circle cx="12" cy="10" r="1"/><path d="M11.71,17.99C5.9,18.09,2.1,12.89,2,12.73c-0.1-0.15-0.1-0.35,0-0.5c0.1-0.15,3.9-5.36,9.71-5.46 c5.81-0.09,9.61,5.11,9.71,5.27c0.1,0.15,0.1,0.35,0,0.5C21.32,12.69,17.52,17.9,11.71,17.99z M3.5,12.49 c0.97,1.17,4.19,4.46,8.21,4.41c4.02-0.05,7.24-3.34,8.21-4.51c-0.97-1.17-4.19-4.46-8.21-4.41C7.69,8.03,4.47,11.32,3.5,12.49z"/></svg>
                <span>Shorts</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M10 14.65v-5.3L15 12l-5 2.65zm7.77-4.33c-.77-.32-1.2-.5-1.2-.5L18 9.06c1.84-.96 2.53-3.23 1.56-5.06s-3.24-2.53-5.07-1.56L6 6.94c-1.29.68-2.07 2.04-2 3.49.07 1.42.93 2.67 2.22 3.25.03.01 1.2.5 1.2.5L6 14.93c-1.83.97-2.53 3.24-1.56 5.07.97 1.83 3.24 2.53 5.07 1.56l8.5-4.5c1.29-.68 2.06-2.04 1.99-3.49-.07-1.42-.94-2.68-2.23-3.25zm-.23 5.86l-8.5 4.5c-1.34.71-3.01.2-3.72-1.14-.71-1.34-.2-3.01 1.14-3.72l2.04-1.08v-1.21l-.69-.28-1.11-.46c-.99-.41-1.65-1.35-1.7-2.41-.05-1.06.52-2.06 1.46-2.56l8.5-4.5c1.34-.71 3.01-.2 3.72 1.14.71 1.34.2 3.01-1.14 3.72L15.5 9.26v1.21l1.8.74c.99.41 1.65 1.35 1.7 2.41.05 1.06-.52 2.06-1.46 2.56z"/></svg>
                <span>Subscriptions</span>
            </a>
        </div>

        <div class="sidebar-section">
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M11 7l6 3.5L11 14V7zm.03-4.5c-5.52.02-9.98 4.49-9.98 10 0 5.52 4.47 10 9.99 10s9.99-4.48 9.99-10c0-5.51-4.48-10-10-10zM11 20.5c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>
                <span>You</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M14.97 16.95L10 13.87V7h2v5.76l4.03 2.49-1.06 1.7zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
                <span>History</span>
            </a>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-title">Subscriptions</div>
            <div id="subscriptionsList">
                <!-- Populated from video catalog -->
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-title">Explore</div>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                <span>Trending</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                <span>Music</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/></svg>
                <span>Gaming</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M18 11c0-.959-.68-1.761-1.581-1.954C16.779 8.445 17 7.75 17 7c0-2.206-1.794-4-4-4-1.516 0-2.822.857-3.5 2.104C8.822 3.857 7.516 3 6 3 3.794 3 2 4.794 2 7c0 .75.221 1.445.581 2.046C1.68 9.239 1 10.041 1 11v2c0 .552.448 1 1 1h1v5c0 .552.448 1 1 1h2c.552 0 1-.448 1-1v-5h2v5c0 .552.448 1 1 1h2c.552 0 1-.448 1-1v-5h2v5c0 .552.448 1 1 1h2c.552 0 1-.448 1-1v-5h1c.552 0 1-.448 1-1v-2z"/></svg>
                <span>News</span>
            </a>
            <a href="#" class="sidebar-item">
                <svg viewBox="0 0 24 24"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"/></svg>
                <span>Sports</span>
            </a>
        </div>
    </aside>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Home Page -->
        <main class="main-content active" id="homePage">
            <div class="chips-container">
                <button class="chip active">All</button>
                <button class="chip">Music</button>
                <button class="chip">Gaming</button>
                <button class="chip">Live</button>
                <button class="chip">Educational</button>
                <button class="chip">Documentaries</button>
            </div>

            <div class="video-grid" id="videoGrid">
                <!-- Videos will be loaded here -->
            </div>
        </main>

        <!-- Video Page -->
        <div class="video-page" id="videoPage">
            <div class="video-player-container">
                <div class="video-player">
                    <div class="video-player-content" id="videoPlayerContent">
                        <div class="play-button"></div>
                    </div>
                </div>

                <div class="video-primary-info">
                    <h1 class="video-page-title">Loading...</h1>
                    <div class="video-page-stats">
                        <span class="views-date">Loading video...</span>
                        <div class="action-buttons">
                            <button class="action-button">
                                <svg viewBox="0 0 24 24"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z" fill="currentColor"/></svg>
                                <span>Like</span>
                            </button>
                            <button class="action-button">
                                <svg viewBox="0 0 24 24"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" fill="currentColor"/></svg>
                                <span>Dislike</span>
                            </button>
                            <button class="action-button">
                                <svg viewBox="0 0 24 24"><path d="M15 5.1L9.7 1.7c-.4-.3-.8-.4-1.2-.4-.8 0-1.5.7-1.5 1.5v5.7H2.5c-.8 0-1.5.7-1.5 1.5v6c0 .8.7 1.5 1.5 1.5H7v5.7c0 .8.7 1.5 1.5 1.5.4 0 .8-.1 1.2-.4l5.3-3.4c.4-.2.7-.6.7-1.1v-12c0-.5-.3-.9-.7-1.1z" fill="currentColor"/></svg>
                                <span>Share</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="channel-info">
                    <div class="channel-info-left">
                        <div class="channel-avatar-large"></div>
                        <div class="channel-details">
                            <div class="channel-name-large">Archive.org</div>
                            <div class="subscriber-count">1M subscribers</div>
                        </div>
                    </div>
                    <button class="subscribe-button">Subscribe</button>
                </div>

                <div class="video-description">
                    <div class="description-text">Click any video from the home page to watch it here. All videos are sourced from archive.org and play directly in the player.</div>
                </div>

                </div>
            </div>
        </div>
        <!-- Subscriptions Page -->
        <main class="main-content" id="subscriptionsPage">
            <h2 style="font-size: 20px; font-weight: 500; margin-bottom: 24px;" id="subscriptionsHeading">Subscriptions</h2>
            <div class="video-grid" id="subscriptionsGrid"></div>
        </main>

        <!-- Search Results Page -->
        <main class="main-content" id="searchPage">
            <div style="margin-bottom: 20px; display: flex; align-items: center; gap: 12px;">
                <h2 id="searchHeading" style="font-size: 18px; font-weight: 400; color: #f1f1f1;"></h2>
            </div>
            <div class="video-grid" id="searchGrid"></div>
            <div id="noResults" style="display:none; color: #aaa; font-size: 16px; margin-top: 40px; text-align: center;">No videos found matching your search.</div>
        </main>
    </div>

    <script>
        let videoCatalog = [];
        let currentVideo = null;

        // Gradient colors for thumbnails and avatars
        const gradients = [
            ['#667eea', '#764ba2'],
            ['#fa709a', '#fee140'],
            ['#f093fb', '#f5576c'],
            ['#4facfe', '#00f2fe'],
            ['#a8edea', '#fed6e3'],
            ['#ff9a9e', '#fecfef'],
            ['#ffecd2', '#fcb69f'],
            ['#ff6e7f', '#bfe9ff'],
            ['#e0c3fc', '#8ec5fc'],
            ['#fbc2eb', '#a6c1ee'],
            ['#fdcbf1', '#e6dee9'],
            ['#a1c4fd', '#c2e9fb'],
            ['#d299c2', '#fef9d7'],
            ['#ffeaa7', '#fdcb6e'],
            ['#FFB6B9', '#FFD7A8'],
            ['#A8E6CF', '#DCEDC1'],
        ];

        function getGradient(index) {
            return gradients[index % gradients.length];
        }

        function getRandomMinutes() {
            return Math.floor(Math.random() * 59) + 1;
        }

        function getViewCount() {
            const counts = ['120K', '450K', '850K', '1.2M', '1.8M', '2.3M', '3.5M', '920K', '670K', '2.5M', '5.1M', '3.2M'];
            return counts[Math.floor(Math.random() * counts.length)];
        }

        function getTimeAgo() {
            const times = ['2 days ago', '5 days ago', '1 week ago', '2 weeks ago', '3 weeks ago', '1 month ago', '2 months ago', '3 hours ago', '12 hours ago', 'just now'];
            return times[Math.floor(Math.random() * times.length)];
        }

        function loadTorrents() {
            const videoGrid = document.getElementById('videoGrid');
            
            if (!videoGrid) {
                console.warn('videoGrid element not found, retrying...');
                setTimeout(loadTorrents, 100);
                return;
            }
            
            videoGrid.innerHTML = '';
            
            const videos = videoCatalog.length > 0 ? videoCatalog : [];
            
            console.log('Rendering', videos.length, 'videos');
            
            videos.forEach((video, index) => {
                const gradient = getGradient(index);
                const avatarGradient = getGradient(index + 1);
                const duration = `${getRandomMinutes()}:${String(getRandomMinutes()).padStart(2, '0')}`;
                
                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = function() { 
                    currentVideo = video;
                    showVideoPage(video); 
                };
                
                const thumbnailGrad = `linear-gradient(135deg, ${gradient[0]} 0%, ${gradient[1]} 100%)`;
                const avatarGrad = `linear-gradient(135deg, ${avatarGradient[0]} 0%, ${avatarGradient[1]} 100%)`;
                
                // Use thumbnail if available, otherwise fall back to gradient
                let thumbnailStyle = `background: ${thumbnailGrad};`;
                if (video.thumbnail) {
                    thumbnailStyle = `background-image: url('${video.thumbnail}'); background-size: cover; background-position: center;`;
                } else if (video.identifier) {
                    // Assume thumbnails are in ./thumbnails/ folder with identifier.jpg
                    thumbnailStyle = `background-image: url('thumbnails/${video.identifier}.jpg'); background-size: cover; background-position: center;`;
                }
                
                card.innerHTML = `
                    <div class="video-thumbnail">
                        <div class="thumbnail-img" style="${thumbnailStyle}"></div>
                        <span class="video-duration">${duration}</span>
                    </div>
                    <div class="video-info">
                        <div class="channel-avatar" style="background: ${avatarGrad};"></div>
                        <div class="video-details">
                            <div class="video-title">${video.title}</div>
                            <div class="video-metadata">
                                <div class="channel-name">Archive.org</div>
                                <div class="video-stats">${getViewCount()} views • ${getTimeAgo()}</div>
                            </div>
                        </div>
                    </div>
                `;
                
                videoGrid.appendChild(card);
            });

            populateSubscriptionsSidebar();
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.style.transform = sidebar.style.transform === 'translateX(-100%)' ? 'translateX(0)' : 'translateX(-100%)';
        }

        // Stop any currently playing video
        function stopCurrentVideo() {
            const container = document.getElementById('videoPlayerContent');
            if (container) {
                const vid = container.querySelector('video');
                if (vid) {
                    vid.pause();
                    vid.src = '';
                }
                container.innerHTML = '<div class="play-button"></div>';
            }
        }

        function showVideoPage(video, pushState = true) {
            if (video) {
                currentVideo = video;
            }

            const titleElement = document.querySelector('.video-page-title');
            if (titleElement && currentVideo) {
                titleElement.textContent = currentVideo.title;
            }

            const videoPlayerContent = document.getElementById('videoPlayerContent');
            if (videoPlayerContent && currentVideo) {
                const videoUrl = currentVideo.url;
                videoPlayerContent.innerHTML = `
                    <video width="100%" height="100%" style="width: 100%; height: 100%;" controls autoplay>
                        <source src="${videoUrl || ''}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                `;
            }

            document.getElementById('homePage').classList.remove('active');
            document.getElementById('videoPage').classList.add('active');
            document.getElementById('searchPage').classList.remove('active');
            window.scrollTo(0, 0);

            if (pushState) {
                history.pushState({ page: 'video', videoId: currentVideo ? currentVideo.identifier : null }, '', '');
            }
        }

        function showHome(pushState = true) {
            stopCurrentVideo();
            document.getElementById('homePage').classList.add('active');
            document.getElementById('videoPage').classList.remove('active');
            document.getElementById('searchPage').classList.remove('active');
            document.getElementById('subscriptionsPage').classList.remove('active');
            document.getElementById('searchInput').value = '';
            window.scrollTo(0, 0);
            if (pushState) {
                history.pushState({ page: 'home' }, '', '');
            }
        }

        function showSearch(query, results, pushState = true) {
            stopCurrentVideo();
            document.getElementById('searchHeading').textContent =
                results.length > 0
                    ? `Search results for "${query}" — ${results.length} video${results.length !== 1 ? 's' : ''} found`
                    : `No results for "${query}"`;

            const grid = document.getElementById('searchGrid');
            grid.innerHTML = '';
            document.getElementById('noResults').style.display = results.length === 0 ? 'block' : 'none';

            results.forEach((video, index) => {
                const gradient = getGradient(index);
                const avatarGradient = getGradient(index + 1);
                const duration = `${getRandomMinutes()}:${String(getRandomMinutes()).padStart(2, '0')}`;

                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = function() {
                    currentVideo = video;
                    showVideoPage(video);
                };

                let thumbnailStyle = `background: linear-gradient(135deg, ${gradient[0]} 0%, ${gradient[1]} 100%);`;
                if (video.thumbnail) {
                    thumbnailStyle = `background-image: url('${video.thumbnail}'); background-size: cover; background-position: center;`;
                } else if (video.identifier) {
                    thumbnailStyle = `background-image: url('thumbnails/${video.identifier}.jpg'); background-size: cover; background-position: center;`;
                }

                const avatarGrad = `linear-gradient(135deg, ${avatarGradient[0]} 0%, ${avatarGradient[1]} 100%)`;

                card.innerHTML = `
                    <div class="video-thumbnail">
                        <div class="thumbnail-img" style="${thumbnailStyle}"></div>
                        <span class="video-duration">${duration}</span>
                    </div>
                    <div class="video-info">
                        <div class="channel-avatar" style="background: ${avatarGrad};"></div>
                        <div class="video-details">
                            <div class="video-title">${video.title}</div>
                            <div class="video-metadata">
                                <div class="channel-name">Archive.org</div>
                                <div class="video-stats">${getViewCount()} views • ${getTimeAgo()}</div>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            document.getElementById('homePage').classList.remove('active');
            document.getElementById('videoPage').classList.remove('active');
            document.getElementById('searchPage').classList.add('active');
            window.scrollTo(0, 0);

            if (pushState) {
                history.pushState({ page: 'search', query }, '', '');
            }
        }

        // Fuzzy search: score each video by how well it matches the query
        function fuzzyMatch(str, query) {
            str = str.toLowerCase();
            query = query.toLowerCase();
            if (str.includes(query)) return 100;

            // Check word-by-word overlap
            const queryWords = query.split(/\s+/);
            const strWords = str.split(/\s+/);
            let score = 0;
            for (const qw of queryWords) {
                for (const sw of strWords) {
                    if (sw.includes(qw) || qw.includes(sw)) { score += 50; break; }
                    // Levenshtein-style: allow 1 char difference per 4 chars
                    if (qw.length >= 3 && editDistance(qw, sw) <= Math.floor(qw.length / 4) + 1) {
                        score += 30; break;
                    }
                }
            }
            return score;
        }

        function editDistance(a, b) {
            const m = a.length, n = b.length;
            const dp = Array.from({length: m+1}, (_, i) => Array.from({length: n+1}, (_, j) => i === 0 ? j : j === 0 ? i : 0));
            for (let i = 1; i <= m; i++)
                for (let j = 1; j <= n; j++)
                    dp[i][j] = a[i-1] === b[j-1] ? dp[i-1][j-1] : 1 + Math.min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]);
            return dp[m][n];
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) return;

            const scored = videoCatalog
                .map(v => ({ video: v, score: fuzzyMatch(v.title || '', query) }))
                .filter(x => x.score > 0)
                .sort((a, b) => b.score - a.score)
                .map(x => x.video);

            showSearch(query, scored);
        }

        // Handle browser back/forward
        window.addEventListener('popstate', function(e) {
            const state = e.state;
            if (!state || state.page === 'home') {
                stopCurrentVideo();
                document.getElementById('homePage').classList.add('active');
                document.getElementById('videoPage').classList.remove('active');
                document.getElementById('searchPage').classList.remove('active');
                document.getElementById('subscriptionsPage').classList.remove('active');
                document.getElementById('searchInput').value = '';
            } else if (state.page === 'video') {
                stopCurrentVideo();
                document.getElementById('subscriptionsPage').classList.remove('active');
                if (state.videoId && currentVideo) {
                    showVideoPage(currentVideo, false);
                } else {
                    document.getElementById('homePage').classList.add('active');
                    document.getElementById('videoPage').classList.remove('active');
                    document.getElementById('searchPage').classList.remove('active');
                }
            } else if (state.page === 'search') {
                stopCurrentVideo();
                document.getElementById('subscriptionsPage').classList.remove('active');
                const query = state.query;
                document.getElementById('searchInput').value = query;
                const scored = videoCatalog
                    .map(v => ({ video: v, score: fuzzyMatch(v.title || '', query) }))
                    .filter(x => x.score > 0)
                    .sort((a, b) => b.score - a.score)
                    .map(x => x.video);
                showSearch(query, scored, false);
            } else if (state.page === 'subscriptions') {
                stopCurrentVideo();
                showSubscriptions(state.channelName, false);
            }
        });

        // Push initial home state
        history.replaceState({ page: 'home' }, '', '');

        // Add click handlers to chips
        function initChips() {
            document.querySelectorAll('.chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function showSubscriptions(channelName, pushState = true) {
            stopCurrentVideo();
            const videos = videoCatalog; // All videos are from archive.org / same channel
            document.getElementById('subscriptionsHeading').textContent = channelName ? `${channelName} — All Videos` : 'Subscriptions';

            const grid = document.getElementById('subscriptionsGrid');
            grid.innerHTML = '';

            videos.forEach((video, index) => {
                const gradient = getGradient(index);
                const avatarGradient = getGradient(index + 1);
                const duration = `${getRandomMinutes()}:${String(getRandomMinutes()).padStart(2, '0')}`;
                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = function() { currentVideo = video; showVideoPage(video); };

                let thumbnailStyle = `background: linear-gradient(135deg, ${gradient[0]} 0%, ${gradient[1]} 100%);`;
                if (video.thumbnail) {
                    thumbnailStyle = `background-image: url('${video.thumbnail}'); background-size: cover; background-position: center;`;
                } else if (video.identifier) {
                    thumbnailStyle = `background-image: url('thumbnails/${video.identifier}.jpg'); background-size: cover; background-position: center;`;
                }
                const avatarGrad = `linear-gradient(135deg, ${avatarGradient[0]} 0%, ${avatarGradient[1]} 100%)`;

                card.innerHTML = `
                    <div class="video-thumbnail">
                        <div class="thumbnail-img" style="${thumbnailStyle}"></div>
                        <span class="video-duration">${duration}</span>
                    </div>
                    <div class="video-info">
                        <div class="channel-avatar" style="background: ${avatarGrad};"></div>
                        <div class="video-details">
                            <div class="video-title">${video.title}</div>
                            <div class="video-metadata">
                                <div class="channel-name">Archive.org</div>
                                <div class="video-stats">${getViewCount()} views • ${getTimeAgo()}</div>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            document.getElementById('homePage').classList.remove('active');
            document.getElementById('videoPage').classList.remove('active');
            document.getElementById('searchPage').classList.remove('active');
            document.getElementById('subscriptionsPage').classList.add('active');
            window.scrollTo(0, 0);

            if (pushState) {
                history.pushState({ page: 'subscriptions', channelName }, '', '');
            }
        }

        function populateSubscriptionsSidebar() {
            const list = document.getElementById('subscriptionsList');
            if (!list) return;
            list.innerHTML = '';

            // Get unique channels — since all videos are archive.org, show one entry per source/creator if available
            // If videos have a creator/subject field use that, otherwise show "Archive.org" as the single channel
            const channels = [];
            const seen = new Set();
            for (const v of videoCatalog) {
                const name = v.creator || v.subject || 'Archive.org';
                const key = Array.isArray(name) ? name[0] : name;
                if (!seen.has(key)) { seen.add(key); channels.push(key); }
                if (channels.length >= 10) break;
            }

            // If only one channel, just show "Archive.org"
            const finalChannels = channels.length === 0 ? ['Archive.org'] : channels;

            const colors = ['#FF6B6B','#4ECDC4','#FFE66D','#A8E6CF','#FFB6B9','#74b9ff','#fd79a8','#55efc4','#fdcb6e','#e17055'];
            finalChannels.forEach((ch, i) => {
                const color = colors[i % colors.length];
                const item = document.createElement('div');
                item.className = 'subscription-item';
                item.onclick = () => showSubscriptions(ch);
                item.innerHTML = `
                    <div style="width:24px;height:24px;border-radius:50%;background:${color};flex-shrink:0;"></div>
                    <span>${ch}</span>
                `;
                list.appendChild(item);
            });
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initChips);
        } else {
            initChips();
        }

        // Load videos
        function loadVideos() {
            // Try embedded videos first
            if (typeof EMBEDDED_VIDEOS !== 'undefined' && EMBEDDED_VIDEOS.videos) {
                console.log('✓ Using embedded videos');
                videoCatalog = EMBEDDED_VIDEOS.videos;
                loadTorrents();
                return;
            }

            // Fallback to fetch
            console.log('Fetching videos.json');
            fetch('videos.json')
                .then(r => {
                    if (!r.ok) throw new Error('HTTP ' + r.status);
                    return r.json();
                })
                .then(data => {
                    if (data.videos && Array.isArray(data.videos)) {
                        console.log('✓ Loaded videos from videos.json');
                        videoCatalog = data.videos;
                        loadTorrents();
                    } else {
                        throw new Error('Invalid data format');
                    }
                })
                .catch(err => {
                    console.error('✗ Load error:', err);
                });
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadVideos);
        } else {
            loadVideos();
        }
    </script>

    <!-- Embedded videos data -->
    <script src="videos-embed.js"></script>
</body>
</html>
